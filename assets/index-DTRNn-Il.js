(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const $="AIzaSyDR1t04fRJmT5JhUMF5jDwIIJzFkWbJ-0w",z=document.getElementById("form__button");z.addEventListener("click",x=>{x.preventDefault();const o=document.querySelector(".form__input"),a=o.value,i=`https://www.googleapis.com/books/v1/volumes?q=${a}&key=${$}`;if(!(()=>{if(!/^[A-Za-z]+$/.test(a))o.style.setProperty("border","2px solid red","important"),o.value="",o.placeholder="Wrong title";else if(a.charAt(0)!==a.charAt(0).toUpperCase())o.style.setProperty("border","2px solid red","important"),o.value="",o.placeholder="Use capital letter";else return o.style.setProperty("border","none"),o.value="",o.placeholder="Search for the book",!0})())return;(async()=>{await fetch(i).then(r=>{if(!r.ok)throw new Error("Network response was not ok");return r.json()}).then(r=>{console.log(r);const w=document.getElementById("book-container"),J=r.items;w.innerText="";const T=J.filter(s=>s.volumeInfo.language==="en"&&s.volumeInfo.pageCount>0);console.log(T),(()=>{T.map(s=>{const e=document.createElement("div");e.classList.add("bookInfo");const f=document.createElement("h1");f.classList.add("bookInfo__title"),f.innerText=s.volumeInfo.title,e.appendChild(f);const h=document.createElement("h1");h.classList.add("bookInfo__author"),h.innerText=s.volumeInfo.authors,e.appendChild(h);const b=document.createElement("p");b.classList.add("bookInfo__categories"),b.innerText=s.volumeInfo.categories,e.appendChild(b);let v=document.createElement("img");v.classList.add("bookInfo__imageContainer--image"),v.src=s.volumeInfo.imageLinks.thumbnail,e.appendChild(v);const _=document.createElement("h2");_.innerText=s.searchInfo.textSnippet,_.classList.add("bookInfo__snippet"),e.appendChild(_);const I=document.createElement("h3");I.innerText=`${s.volumeInfo.pageCount} pages`,I.classList.add("bookInfo__pageCount"),e.appendChild(I),e.addEventListener("click",()=>{const S=e.querySelector(".bookInfo__description"),P=e.querySelector(".bookInfo__publishedDate"),q=e.querySelector(".bookInfo__publisher"),A=e.querySelector(".rating-container"),D=e.querySelector(".form-review");if(S&&P&&q&&A&&D)S.remove(),P.remove(),q.remove(),A.remove(),D.remove();else{const y=document.createElement("p");y.innerText=s.volumeInfo.description,y.classList.add("bookInfo__description"),e.appendChild(y);const E=document.createElement("p");E.innerText=s.volumeInfo.publishedDate,E.classList.add("bookInfo__publishedDate"),e.appendChild(E);const C=document.createElement("p");C.innerText=s.volumeInfo.publisher,C.classList.add("bookInfo__publisher"),e.appendChild(C);const d=document.createElement("div");d.classList.add("rating-container");const k=document.createElement("p");k.classList.add("rating-container__text"),k.innerText="Rate this book?",d.appendChild(k);const l=document.createElement("div");l.classList.add("star-container"),d.appendChild(l),["","","","",""].map(()=>{const c=document.createElement("span");c.classList.add("stars-container__star"),c.innerText="â˜…",l.appendChild(c)});const R=[...l.querySelectorAll(".stars-container__star")];R.map((c,N)=>{c.addEventListener("click",()=>{R.map((H,U)=>{N>=U?H.classList.add("active"):H.classList.remove("active")})})}),e.appendChild(d);const O=document.createElement("div"),p=document.createElement("form");p.classList.add("form-review");const L=document.createElement("div");L.classList.add("textarea");const m=document.createElement("textarea");m.placeholder="Describe your experience",m.cols=30,m.classList.add("textarea__text"),L.appendChild(m),p.appendChild(L);const g=document.createElement("div");g.classList.add("form-review__btnHolder");const u=document.createElement("button");u.classList.add("btn"),u.type="submit",u.innerText="Post",g.appendChild(u),p.appendChild(g),O.appendChild(p),e.appendChild(O)}}),w.appendChild(e)})})()}).catch(r=>{console.error("Error:",r)})})(),F()});const F=()=>{document.querySelector(".form__input").value=""};
