(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function p(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(e){if(e.ep)return;e.ep=!0;const o=p(e);fetch(e.href,o)}})();const N="AIzaSyDR1t04fRJmT5JhUMF5jDwIIJzFkWbJ-0w",F=document.getElementById("form__button");F.addEventListener("click",x=>{x.preventDefault();const p=`https://www.googleapis.com/books/v1/volumes?q=${document.querySelector(".form__input").value}&key=${N}`;(async()=>{await fetch(p).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{console.log(e);const o=document.getElementById("book-container"),w=e.items.filter(n=>n.volumeInfo.language==="en"&&n.volumeInfo.pageCount>0);console.log(w),(()=>{w.map(n=>{const t=document.createElement("div");t.classList.add("bookInfo");const f=document.createElement("h1");f.classList.add("bookInfo__title"),f.innerText=n.volumeInfo.title,t.appendChild(f);const b=document.createElement("h1");b.classList.add("bookInfo__author"),b.innerText=n.volumeInfo.authors,t.appendChild(b);const h=document.createElement("p");h.classList.add("bookInfo__categories"),h.innerText=n.volumeInfo.categories,t.appendChild(h);let v=document.createElement("img");v.classList.add("bookInfo__imageContainer--image"),v.src=n.volumeInfo.imageLinks.thumbnail,t.appendChild(v);const I=document.createElement("h2");I.innerText=n.searchInfo.textSnippet,I.classList.add("bookInfo__snippet"),t.appendChild(I);const _=document.createElement("h3");_.innerText=`${n.volumeInfo.pageCount} pages`,_.classList.add("bookInfo__pageCount"),t.appendChild(_),t.addEventListener("click",()=>{const T=t.querySelector(".bookInfo__description"),S=t.querySelector(".bookInfo__publishedDate"),q=t.querySelector(".bookInfo__publisher"),D=t.querySelector(".rating-container"),P=t.querySelector(".form-review");if(T&&S&&q&&D&&P)T.remove(),S.remove(),q.remove(),D.remove(),P.remove();else{const E=document.createElement("p");E.innerText=n.volumeInfo.description,E.classList.add("bookInfo__description"),t.appendChild(E);const C=document.createElement("p");C.innerText=n.volumeInfo.publishedDate,C.classList.add("bookInfo__publishedDate"),t.appendChild(C);const L=document.createElement("p");L.innerText=n.volumeInfo.publisher,L.classList.add("bookInfo__publisher"),t.appendChild(L);const c=document.createElement("div");c.classList.add("rating-container");const k=document.createElement("p");k.classList.add("rating-container__text"),k.innerText="Rate this book?",c.appendChild(k);const i=document.createElement("div");i.classList.add("star-container"),c.appendChild(i),["","","","",""].map(()=>{const r=document.createElement("span");r.classList.add("stars-container__star"),r.innerText="â˜…",i.appendChild(r)});const R=[...i.querySelectorAll(".stars-container__star")];R.map((r,H)=>{r.addEventListener("click",()=>{R.map((O,J)=>{H>=J?O.classList.add("active"):O.classList.remove("active")})})}),t.appendChild(c);const A=document.createElement("div"),d=document.createElement("form");d.classList.add("form-review");const g=document.createElement("div");g.classList.add("textarea");const l=document.createElement("textarea");l.placeholder="Describe your experience",l.cols=30,l.classList.add("textarea__text"),g.appendChild(l),d.appendChild(g);const y=document.createElement("div");y.classList.add("form-review__btnHolder");const m=document.createElement("button");m.classList.add("btn"),m.type="submit",m.innerText="Post",y.appendChild(m),d.appendChild(y),A.appendChild(d),t.appendChild(A)}}),o.appendChild(t)})})()}).catch(e=>{console.error("Error:",e)})})(),$()});const $=()=>{document.querySelector(".form__input").value=""};
