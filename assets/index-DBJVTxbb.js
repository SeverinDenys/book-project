(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const s=(i,e,o,n)=>{const t=document.createElement(i);t.classList.add(e);for(let r in o)t[r]=o[r];return n.appendChild(t),t},y="AIzaSyDR1t04fRJmT5JhUMF5jDwIIJzFkWbJ-0w",E=document.getElementById("form__button"),k=document.querySelector(".container"),v=document.getElementById("multiple-book-container");let u,f;const I=i=>i.volumeInfo.language==="en"&&i.volumeInfo.pageCount>0,g=()=>{u||(u=s("button","button-more",{innerText:"Show more"},k))},w=()=>{f||(f=s("button","button-less",{innerText:"Show less"},k))},L=(i,e)=>{const o=/^[A-Za-z\s.,'!]+$/,n=document.createElement("p");return n.classList.add("form__input-error"),o.test(i)?i.charAt(0)!==i.charAt(0).toUpperCase()?(n.innerText="Use capital letter",e.insertAdjacentElement("afterend",n),e.value="",!1):(e.style.setProperty("border","none"),e.placeholder="Search for the book",!0):(n.innerText="Wrong book title",e.insertAdjacentElement("afterend",n),!1)},x=i=>{i.filter((e,o)=>o>0).forEach(e=>{var n;const o=document.createElement("div");o.classList.add("bookInfo"),s("h1","bookInfo__title",{innerText:e.volumeInfo.title},o),s("h1","bookInfo__authors",{innerText:e.volumeInfo.authors},o),s("p","bookInfo__categories",{innerText:e.volumeInfo.categories},o),s("img","bookInfo__imageContainer--image",{src:e.volumeInfo.imageLinks.thumbnail,alt:e.volumeInfo.title},o),s("h2","bookInfo__snippet",{innerText:((n=e.searchInfo)==null?void 0:n.textSnippet)||e.volumeInfo.description||"No description available"},o),s("h3","bookInfo__pageCount",{innerText:` ${e.volumeInfo.pageCount} pages `},o),o.addEventListener("click",()=>{localStorage.setItem("currentBook",JSON.stringify(e)),window.location.href="./details.html"}),v.appendChild(o)})};E.addEventListener("click",i=>{i.preventDefault();const e=document.querySelector(".form__input"),o=e.value,n=`https://www.googleapis.com/books/v1/volumes?q=${o}&key=${y}`,t=document.querySelector(".form__input-error");if(t&&t.remove(),!L(o,e))return;(async()=>{await fetch(n).then(l=>{if(!l.ok)throw new Error("Network response was not ok");return l.json()}).then(l=>{const m=document.getElementById("book-container"),d=l.items;m.innerText="";const _=()=>{var h;let c=d.find(I);if(c){const a=document.createElement("div");a.classList.add("bookInfo"),s("h1","bookInfo__title",{innerText:c.volumeInfo.title},a),s("h1","bookInfo__authors",{innerText:c.volumeInfo.authors},a),s("p","bookInfo__categories",{innerText:c.volumeInfo.categories},a),s("img","bookInfo__imageContainer--image",{src:c.volumeInfo.imageLinks.thumbnail,alt:c.volumeInfo.title},a),s("h2","bookInfo__snippet",{innerText:((h=c.searchInfo)==null?void 0:h.textSnippet)||c.volumeInfo.description||"No description available"},a),s("h3","bookInfo__pageCount",{innerText:`${c.volumeInfo.pageCount} pages`},a),a.addEventListener("click",()=>{localStorage.setItem("currentBook",JSON.stringify(c)),window.location.href="./details.html"}),m.appendChild(a),g(),u.addEventListener("click",p)}else alert("There are no English books")},p=()=>{const c=d.filter(I);x(c),u.remove(),u=null,w(),f.addEventListener("click",b)},b=()=>{v.innerText="",f.remove(),f=null,g(),u.addEventListener("click",p)};_()}).catch(l=>{console.error("Error:",l)})})(),B()});const B=()=>{document.querySelector(".form__input").value=""};
