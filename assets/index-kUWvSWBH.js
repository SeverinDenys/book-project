(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const i=(r,e,o,t)=>{const n=document.createElement(r);e&&n.classList.add(e);for(let s in o)n[s]=o[s];return t&&t.appendChild(n),n},g="AIzaSyDR1t04fRJmT5JhUMF5jDwIIJzFkWbJ-0w",v=document.getElementById("form__button"),d=document.querySelector(".container"),u=document.getElementById("multiple-book-container");let l,a,f=[];const p=r=>r.volumeInfo.language==="en"&&r.volumeInfo.pageCount>0,h=()=>{l||(l=i("button","button-more",{innerText:"Show more"},d))},_=()=>{a||(a=i("button","button-less",{innerText:"Show less"},d))},k=r=>{var o;let e=f.find(p);if(e){const t=document.createElement("div");t.classList.add("bookInfo"),i("h1","bookInfo__title",{innerText:e.volumeInfo.title},t),i("h1","bookInfo__authors",{innerText:e.volumeInfo.authors},t),i("p","bookInfo__categories",{innerText:e.volumeInfo.categories},t),i("img","bookInfo__imageContainer--image",{src:e.volumeInfo.imageLinks.thumbnail,alt:e.volumeInfo.title},t),i("h2","bookInfo__snippet",{innerText:((o=e.searchInfo)==null?void 0:o.textSnippet)||e.volumeInfo.description||"No description available"},t),i("h3","bookInfo__pageCount",{innerText:`${e.volumeInfo.pageCount} pages`},t),t.addEventListener("click",()=>{localStorage.setItem("currentBook",JSON.stringify(e)),window.location.href="./details.html"}),r.appendChild(t),h(),l.addEventListener("click",I)}else alert("There are no English books")},I=()=>{const r=f.filter(p);u.innerText="",E(r),l.remove(),l=null,_(),a.addEventListener("click",b)},b=()=>{u.innerText="",a.remove(),a=null,h(),l.addEventListener("click",I)},y=(r,e)=>{const o=/^[A-Za-z\s.,'!]+$/,t=document.createElement("p");return t.classList.add("form__input-error"),o.test(r)?r.charAt(0)!==r.charAt(0).toUpperCase()?(t.innerText="Use capital letter",e.insertAdjacentElement("afterend",t),e.value="",!1):(e.style.setProperty("border","none"),e.placeholder="Search for the book",!0):(t.innerText="Wrong book title",e.insertAdjacentElement("afterend",t),!1)},E=r=>{r.filter((e,o)=>o>0).forEach(e=>{var t;const o=document.createElement("div");o.classList.add("bookInfo"),i("h1","bookInfo__title",{innerText:e.volumeInfo.title},o),i("h1","bookInfo__authors",{innerText:e.volumeInfo.authors},o),i("p","bookInfo__categories",{innerText:e.volumeInfo.categories},o),i("img","bookInfo__imageContainer--image",{src:e.volumeInfo.imageLinks.thumbnail,alt:e.volumeInfo.title},o),i("h2","bookInfo__snippet",{innerText:((t=e==null?void 0:e.searchInfo)==null?void 0:t.textSnippet)||e.volumeInfo.description||"No description available"},o),i("h3","bookInfo__pageCount",{innerText:` ${e.volumeInfo.pageCount} pages `},o),o.addEventListener("click",()=>{localStorage.setItem("currentBook",JSON.stringify(e)),window.location.href="./details.html"}),u.appendChild(o)})};v.addEventListener("click",r=>{r.preventDefault();const e=document.querySelector(".form__input"),o=e.value,t=`https://www.googleapis.com/books/v1/volumes?q=${o}&key=${g}`,n=document.querySelector(".form__input-error");if(n&&n.remove(),!y(o,e))return;(async()=>{await fetch(t).then(c=>{if(!c.ok)throw new Error("Network response was not ok");return c.json()}).then(c=>{const m=document.getElementById("book-container");f=c.items,m.innerText="",k(m)}).catch(c=>{console.error("Error:",c)})})(),w()});const w=()=>{document.querySelector(".form__input").value=""};
