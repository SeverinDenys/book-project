(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&h(i)}).observe(document,{childList:!0,subtree:!0});function f(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function h(e){if(e.ep)return;e.ep=!0;const t=f(e);fetch(e.href,t)}})();const B="AIzaSyDdAPb7kkGFovTYwv7NJ3ii1A5mcjuU8UI",D=document.getElementById("form__button");D.addEventListener("click",I=>{I.preventDefault();const f=`https://www.googleapis.com/books/v1/volumes?q=${document.querySelector(".form__input").value}&key=${B}`;(async()=>{await fetch(f).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{console.log(e);const t=document.getElementById("book-container"),x=e.items.filter(n=>n.volumeInfo.language==="en");console.log(x),(()=>{x.map(n=>{const o=document.createElement("div");o.classList.add("bookInfo");const b=document.createElement("h1");b.classList.add("bookInfo__title"),b.innerText=n.volumeInfo.title,o.appendChild(b);const g=document.createElement("h1");g.classList.add("bookInfo__author"),g.innerText=n.volumeInfo.authors,o.appendChild(g);const v=document.createElement("p");v.classList.add("bookInfo__categories"),v.innerText=n.volumeInfo.categories,o.appendChild(v);let E=document.createElement("img");E.classList.add("bookInfo__imageContainer--image"),E.src=n.volumeInfo.imageLinks.thumbnail,o.appendChild(E);const a=document.createElement("h2");a.innerText=n.volumeInfo.description,a.classList.add("bookInfo__description"),o.appendChild(a);const A=(r=>r.length>200?r.substring(0,200)+" ...":r)(a.innerText);a.innerText=A;const L=document.createElement("h3");L.innerText=`${n.volumeInfo.pageCount} pages`,L.classList.add("bookInfo__pageCount"),o.appendChild(L);const d=document.createElement("div");d.classList.add("rating-container");const _=document.createElement("p");_.classList.add("rating-container__text"),_.innerText="Rate this book?",d.appendChild(_);const l=document.createElement("div");l.classList.add("star-container"),d.appendChild(l);for(let r=0;r<5;r++){const s=document.createElement("span");s.classList.add("stars-container__star"),s.innerText="â˜…",l.appendChild(s)}const y=l.querySelectorAll(".stars-container__star");y.forEach((r,s)=>{r.addEventListener("click",()=>{y.forEach((T,P)=>{s>=P?T.classList.add("active"):T.classList.remove("active")})})}),o.appendChild(d);const w=document.createElement("div"),m=document.createElement("form");m.classList.add("form-review");const k=document.createElement("div");k.classList.add("textarea");const u=document.createElement("textarea");u.placeholder="Describe your experience",u.cols=30,u.classList.add("textarea__text"),k.appendChild(u),m.appendChild(k);const C=document.createElement("div");C.classList.add("form-review__btnHolder");const p=document.createElement("button");p.classList.add("btn"),p.type="submit",p.innerText="Post",C.appendChild(p),m.appendChild(C),w.appendChild(m),o.appendChild(w),t.appendChild(o)})})()}).catch(e=>{console.error("Error:",e)})})(),O()});const O=()=>{document.querySelector(".form__input").value=""};
