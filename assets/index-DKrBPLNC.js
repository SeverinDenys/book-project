(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const g="AIzaSyDR1t04fRJmT5JhUMF5jDwIIJzFkWbJ-0w",k=document.getElementById("form__button"),y=document.querySelector(".container");k.addEventListener("click",h=>{h.preventDefault();const t=document.querySelector(".form__input"),i=t.value,c=`https://www.googleapis.com/books/v1/volumes?q=${i}&key=${g}`;if(!(()=>{if(!/^[A-Za-z]+$/.test(i))t.style.setProperty("border","2px solid red","important"),t.value="",t.placeholder="Wrong title";else if(i.charAt(0)!==i.charAt(0).toUpperCase())t.style.setProperty("border","2px solid red","important"),t.value="",t.placeholder="Use capital letter";else return t.style.setProperty("border","none"),t.value="",t.placeholder="Search for the book",!0})())return;(async()=>{await fetch(c).then(n=>{if(!n.ok)throw new Error("Network response was not ok");return n.json()}).then(n=>{console.log(n);const b=document.getElementById("book-container"),I=n.items;b.innerText="",(()=>{let s=I.find(r=>r.volumeInfo.language==="en");if(s){const r=document.createElement("div");r.classList.add("bookInfo");const l=document.createElement("h1");l.classList.add("bookInfo__title"),l.innerText=s.volumeInfo.title,r.appendChild(l);const a=document.createElement("h1");a.classList.add("bookInfo__author"),a.innerText=s.volumeInfo.authors,r.appendChild(a);const d=document.createElement("p");d.classList.add("bookInfo__categories"),d.innerText=s.volumeInfo.categories,r.appendChild(d);let u=document.createElement("img");u.classList.add("bookInfo__imageContainer--image"),u.src=s.volumeInfo.imageLinks.thumbnail,r.appendChild(u);const p=document.createElement("h2");p.innerText=s.searchInfo.textSnippet,p.classList.add("bookInfo__snippet"),r.appendChild(p);const m=document.createElement("h3");m.innerText=`${s.volumeInfo.pageCount} pages`,m.classList.add("bookInfo__pageCount"),r.appendChild(m),b.appendChild(r);const f=document.createElement("button");f.classList.add("button-more"),f.innerText="Show more",y.appendChild(f)}else alert("There are no english books")})()}).catch(n=>{console.error("Error:",n)})})(),v()});const v=()=>{document.querySelector(".form__input").value=""};
